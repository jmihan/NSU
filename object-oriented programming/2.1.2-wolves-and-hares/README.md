Тема: наследование и полиморфизм подтипов
Вариант: 2.1.2
Задача: Реализовать симуляцию «Волки и Зайцы», работающую по
следующим правилам:
1. Симуляция происходит на поле размера NxM
2. Симуляция проходит в течение заданного количества ходов.
3. В симуляции участвует некоторое количество "зверей" двух
видов - зайцы и волки.
В каждый момент времени для любого зверя известны:
○ координаты, где он находится на поле
○ направление, куда он собирается двигаться (вверх, вниз,
вправо, влево)
○ постоянство - раз в сколько ходов зверь захочет
поменять направление своего движения
○ возраст - сколько ходов зверь уже существует.
Изначально возраст зверя равен нулю.
4. Каждый ход симуляции состоит из следующих фаз:
1. Движение
На данном этапе каждый волк перемещается на 2 клетки
в выбранном направлении, заяц перемещается на 1
клетку в выбранном направлении.
Граничные условия – периодические, т.е. если существо
переместилось за границу поля, то оно появляется на
противоположной его стороне.
После движения зверь меняет направление своего
движения на следующее по часовой стрелке, если того
требует его постоянство.
2. Питание
Если после фазы движения волк и заяц оказываются на
одной клетке, то волк съедает зайца.
В результате заяц погибает, а волк насыщается. Если
волков и зайцев в клетке несколько, то первый же волк
съедает всех зайцев.
Первыми едят старшие волки, что это такое объяснено
ниже.
3. Старение
Возраст каждого живого зверя увеличивается на 1
4. Размножение
Волк, съевший как минимум двух зайцев, размножается,
порождая еще одного волка в той точке, где он
находится. После этого волк снова голоден (для
следующего размножения ему нужно будет съесть еще
двух зайцев).
Зайцы размножаются дважды за жизнь, достигнув
возраста 5 и 10 соответственно.
При рождении новый зверь движется в том же
направлении, что и родитель. Параметр постоянства
также совпадает с родительским. Возраст равен нулю.
5. Вымирание
На этом этапе умирают звери, достигшие максимального
срока жизни.
Зайцы умирают, когда их возраст достиг 10. Волки – 15.
Нумерация зверей:
В некоторых шагах симуляции важно, какой из двух зверей является
старшим (например при кормлении волков).
Старшим считается зверь, родившийся в более ранний ход.
В случае совпадения хода рождения старшим считается тот, кто:
1. Был первее записан во входных данных (для зверей
родившихся в нулевой ход).
2. Родился от более старшего зверя (для остальных).
Реализация симуляции:
При реализации симуляции необходимо:
1. Создать иерархию зверей с базовым абстрактным классом
Animal и наследниками Wolf и Rabbit
2. Создать класс Simulation, позволяющий создавать симуляции
с заданным количеством зверей, расположенных в указанных
координатах. И запускать симуляцию на заданное количество
ходов.
3. Реализовать печать состояния симуляции после очередного
хода следующим образом:
  a. Печатается поле размера NxM
  b. В каждой клетке стоит либо:
  ○ Символ #, если там сейчас нет зверей
  ○ Число k, если там k зайцев
  ○ Число -k, если там сейчас k волков
Входные данные:
В первой строке входного файла указаны значения N, M и T –
размеры поля и количество ходов.
Во второй строке указаны значения R и W – начальное количество
зайцев и волков.
В следующих R строках описываются зайцы с помощью 4-ех
значений x,y,d,k, где x,y – координаты на поле (точка с
координатами {0,0} – верхний левый угол поля), d – начальное
направление (направления кодируются 0 (север), 1 (восток), 2 (юг),
3(запад)), k – постоянство зверя.
В следующих W строках описываются волки (аналогично).
Выходные данные:
В выходные данные записать состояние симуляции после
указанного количества ходов.
Пример входных и выходных данных:
input.txt 
3 3 3
2 1
1 2 1 1
1 1 0 2
0 2 1 2
output.txt
###
#-2#
###
input.txt
4 4 20
1 1
0 0 1 100
output.txt
8###
####
####
0 3 0 100 ####
Дополнительное задание:
Добавить в иерархию еще один вид зверей: гиены.
Гиены во всем похожи на волков, но при этом очень
непривередливы в еде. Они с удовольствием едят: зайцев, волков,
других гиен.
С другой стороны гиены довольно трусливы, поэтому они
останавливаются после двух съеденных животных (остальных не
убивают).
Едят других животных по старшинству: сначала самых старых (и
слабых).
