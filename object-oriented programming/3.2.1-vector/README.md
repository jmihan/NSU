Тема: шаблоны
Вариант: 3.2.1
Задача: Реализовать шаблонный класс:
template <typename T>
class Vector {
T elements[];
...
}
реализующий вектор: контейнер для хранения произвольного
количества элементов заданного типа.
Для данного контейнера реализовать следующие операции:
1. Добавления элемента в конец массива
2. Удаление элемента по заданном индексу.
После данной операции все элементы правее удаляемого
сдвигаются на одну позицию влево.
При попытке удаления элемента с индексом, выходящим за
границу массива, случается ошибка исполнения.
3. Взятие (и изменение) элемента по указанному индексу. Для
этого необходимо перегрузить оператор [].
При попытке доступа за границу массива случается ошибка
исполнения
4. Циклический сдвиг всех элементов вправо на заданную
константу: каждый элемент сдвигается вправо на заданное
количество позиций, при этом размер вектора не изменяется.
5. Циклический сдвиг всех элементов влево на заданную
константу: каждый элемент сдвигается влево на заданное
количество позиций, при этом размер вектора не изменяется.
6. Печать всех элементов, оставшихся в массиве, в порядке их
индексов
Замечания по реализации:
1. В классе должно быть реализовано корректное
управление динамической памятью: не должно быть
утечек памяти, некорректных указателей и т. д
2. Пользоваться классом std::vector для решения задачи
запрещено
В качестве демонстрационного примера написать программу,
которая считывает из файла набор команд для работы с вектором,
выполняет их и выводит результат.
Входные данные:
В первой строке входного файла задан символ, обозначающий тип
элементов вектора:
символ 'I' обозначает тип int, 'D' – double, 'S' – std::string
Во второй строке задаётся число N – количество команд.
В следующих N строках описываются команды.
Команды могут быть шести типов:
○ "ADD value" – добавление в конец вектора значения value
○ "REMOVE index" – удаление элемента с индексом index
○ "PRINT index" – печать элемента с заданным индексом
○ "UPDATE index value" – назначение в элемент с индексом
index значения value
○ "LSH num" – циклический сдвиг всех элементов влево на num
позиций
○ "RSH num" – циклический сдвиг всех элементов вправо на num
позиций
Выходные данные:
В выходной файл записать:
1. результат выполнения команд PRINT (каждый в своей строке в
порядке исполнения команд)
2. содержимое массива после выполнения всех команд: в
порядке возрастания индексов
Значения типа double нужно печатать с точностью два знака после
запятой.
Если среди команд случился выход за границу массива,
необходимо вывести в выходной файл сообщение "ERROR".
Пример входных и выходных данных:
input.txt 
S
5
ADD Ivanov
ADD Petrova
ADD Sidorov
REMOVE 1
LSH 1
output.txt
Sidorov
Ivanov
input.txt
I
5
ADD 12
ADD 13
ADD 14
REMOVE 0
REMOVE 1
output.txt
13 
input.txt
I
4
ADD 1 
PRINT 0 
REMOVE 0 
PRINT 0
output.txt
1
ERROR
input.txt
D
6
ADD 3.14
PRINT 0
REMOVE 0
ADD 3.99
PRINT 0
UPDATE 0 13.13
3.14
3.99
13.13
